const vanillaGallery=document.querySelector(".vanilla-gallery"),modalHTML=`
<div class="gallery-modal">
<div class="modal-btns">
  <button id="prev-btn">&lt;</button>
  <button id="next-btn">&gt;</button>
</div>
<div class="modal-section">
  <div class="img-part">
    <img>
  </div>
  <div class="title-part">
    <div class="title-section">
      <div class="modal-text">
        <p></p>
      </div>
      <div class="title-btns">
        <a class="modal-download-link" href="" download="">
          <button class="modal-download-btn">
          <div class="modal-btn-contents">
            <span class="modal-download-ico">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="Frame">
            <path id="Vector" d="M2 9.33325V13.3333C2 14.0697 2.59695 14.6666 3.33333 14.6666H12.6667C13.4031 14.6666 14 14.0697 14 13.3333V9.33325" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
            <path id="Vector_2" d="M8.00033 2V11.3333M8.00033 11.3333L4.66699 7.70367M8.00033 11.3333L11.3337 7.70373" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
            </g>
            </svg></span> <span class="modal-download-text">Download</span>
          </div>
          </button>
        </a>
        <button class="cross-btn" onclick="hideModal()"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3.33301 3.3335L12.6663 12.6668M3.33301 12.6668L12.6663 3.3335" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        </button>
      </div>
    </div>
  </div>
</div>
</div>
`,allGalleryCards=(vanillaGallery.innerHTML+=modalHTML,document.querySelectorAll(".vanilla-gallery .gallery-card")),galleryModal=(vanillaGallery.style.maxWidth=`calc(280px * ${allGalleryCards.length} + 20px * ${allGalleryCards.length-1})`,4<=allGalleryCards.length&&(vanillaGallery.style.margin="0px auto"),document.querySelector(".gallery-modal")),downloadBtn=document.querySelectorAll(".download-btn");let currCardIndex=0;const totalCards=galleryCardsInfo().length,downloadSvg=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Frame">
<path id="Vector" d="M2 9.33325V13.3333C2 14.0697 2.59695 14.6666 3.33333 14.6666H12.6667C13.4031 14.6666 14 14.0697 14 13.3333V9.33325" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
<path id="Vector_2" d="M8.00033 2V11.3333M8.00033 11.3333L4.66699 7.70367M8.00033 11.3333L11.3337 7.70373" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
`;function galleryCardsInfo(){var l=document.querySelectorAll(".vanilla-gallery .gallery-card");return Array.from(l).map(galleryCardInfo)}function galleryCardInfo(l){let e="";l.querySelector("p")&&(e=l.querySelector("p").innerHTML);l=l.querySelector("img").getAttribute("src");return{title:e,imgSrc:l}}downloadBtn.forEach(l=>{l.innerHTML=downloadSvg}),downloadBtn.forEach(l=>{l.setAttribute("download","")}),allGalleryCards.forEach((e,r)=>{e.addEventListener("click",l=>{galleryModal.querySelector("img").src=galleryCardInfo(e).imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardInfo(e).imgSrc,null!=galleryModal.querySelector(".modal-section .title-part p").innerHTML&&(galleryModal.querySelector(".modal-section .title-part p").innerHTML=galleryCardInfo(e).title),l.target.closest(".download-btn")||(currCardIndex=r,galleryModal.style.visibility="visible")})});const prevBtn=document.getElementById("prev-btn"),nextBtn=document.getElementById("next-btn");function hideModal(){galleryModal.style.visibility="hidden"}nextBtn.addEventListener("click",()=>{currCardIndex==totalCards-1?currCardIndex=0:currCardIndex+=1,galleryModal.querySelector("img").src=galleryCardsInfo()[currCardIndex].imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardsInfo()[currCardIndex].imgSrc,null!=galleryModal.querySelector("p").innerHTML&&(galleryModal.querySelector("p").innerHTML=galleryCardsInfo()[currCardIndex].title)}),prevBtn.addEventListener("click",()=>{0==currCardIndex?currCardIndex=totalCards-1:--currCardIndex,galleryModal.querySelector("img").src=galleryCardsInfo()[currCardIndex].imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardsInfo()[currCardIndex].imgSrc,null!=galleryModal.querySelector("p").innerHTML&&(galleryModal.querySelector("p").innerHTML=galleryCardsInfo()[currCardIndex].title)}),document.addEventListener("click",function(l){!l.target.closest(".gallery-modal .modal-btns")||l.target.closest("#prev-btn")||l.target.closest("#next-btn")||(galleryModal.style.visibility="hidden",galleryModal.querySelector("img").src="")});