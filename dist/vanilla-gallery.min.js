const vanillaGallery=document.querySelector(".vanila-gallery"),modalHTML=`
<div class="gallery-modal">
<div class="modal-btns">
  <button id="prev-btn">&lt;</button>
  <button id="next-btn">&gt;</button>
</div>
<div class="modal-section">
  <div class="img-part">
    <img>
  </div>
  <div class="title-part">
    <div class="title-section">
      <div class="modal-text">
        <p></p>
      </div>
      <div class="title-btns">
        <a class="modal-download-link" href="" download="">
          <button class="modal-download-btn"><span><img src="ico/download.png"></span> <span>Download</span></button>
        </a>
        <button class="cross-btn" onclick="hideModal()"><img src="ico/cross.png"></button>
      </div>
    </div>
  </div>
</div>
</div>
`;vanillaGallery.innerHTML+=modalHTML;const allGalleryCards=document.querySelectorAll(".vanila-gallery .gallery-card"),galleryModal=document.querySelector(".gallery-modal"),downloadBtn=document.querySelectorAll(".download-btn");let currCardIndex=0;const totalCards=galleryCardsInfo().length;function galleryCardsInfo(){let l=document.querySelectorAll(".vanila-gallery .gallery-card"),e=Array.from(l).map(galleryCardInfo);return e}function galleryCardInfo(l){let e="";l.querySelector("p")&&(e=l.querySelector("p").innerHTML);let r=l.querySelector("img").getAttribute("src");return{title:e,imgSrc:r}}downloadBtn.forEach(l=>{l.setAttribute("download","")}),allGalleryCards.forEach((l,e)=>{l.addEventListener("click",r=>{galleryModal.querySelector("img").src=galleryCardInfo(l).imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardInfo(l).imgSrc,null!=galleryModal.querySelector(".modal-section .title-part p").innerHTML&&(galleryModal.querySelector(".modal-section .title-part p").innerHTML=galleryCardInfo(l).title),r.target.closest(".download-btn")||(currCardIndex=e,galleryModal.style.visibility="visible")})});const prevBtn=document.getElementById("prev-btn"),nextBtn=document.getElementById("next-btn");function hideModal(){galleryModal.style.visibility="hidden"}nextBtn.addEventListener("click",()=>{currCardIndex==totalCards-1?currCardIndex=0:currCardIndex+=1,galleryModal.querySelector("img").src=galleryCardsInfo()[currCardIndex].imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardsInfo()[currCardIndex].imgSrc,null!=galleryModal.querySelector("p").innerHTML&&(galleryModal.querySelector("p").innerHTML=galleryCardsInfo()[currCardIndex].title)}),prevBtn.addEventListener("click",()=>{0==currCardIndex?currCardIndex=totalCards-1:currCardIndex-=1,galleryModal.querySelector("img").src=galleryCardsInfo()[currCardIndex].imgSrc,galleryModal.querySelector(".title-btns .modal-download-link").href=galleryCardsInfo()[currCardIndex].imgSrc,null!=galleryModal.querySelector("p").innerHTML&&(galleryModal.querySelector("p").innerHTML=galleryCardsInfo()[currCardIndex].title)}),document.addEventListener("click",function(l){!l.target.closest(".gallery-modal .modal-btns")||l.target.closest("#prev-btn")||l.target.closest("#next-btn")||(galleryModal.style.visibility="hidden",galleryModal.querySelector("img").src="")});
